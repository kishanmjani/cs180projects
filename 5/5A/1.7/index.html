<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>5A 1.7</title>

    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">

    <script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js"
        integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP"
        crossorigin="anonymous"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <header>
        <h1>Part 5A 1.7</h1>
    </header>

    <div class="container">

        <!-- Contents -->
        <main>

            <section id="Results">
                <h2> 1.7: Image-to-Image translation </h2>
                Here, we're going to take the original test image, noise it a little,
                and force it back onto the image manifold without any conditioning. 
                Specifically, we run the forward process to get a noisy test image.
                Then, we run the <code>iterative_denoise_cfg</code> function using a 
                starting index <code>i_start</code> of [1, 3, 5, 7, 10, 20] steps, with conditioning towards 
                prompt "a high quality photo". We see a series of "edits" to the original image, 
                gradually matching the original image closer and closer as we delay <code>i_start</code>, 
                which corresponds to fewer iterations of diffusion.

                <h3> Edits to Campanile using prompt "high quality photo" </h3>
                <div class="gallery">
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/sd_edit01.png" alt="Image 1" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 1 </figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/sd_edit03.png" alt="Image 2"
                        style="width: 256px; height: 256px;" \>
                        <figcaption>i_start = 3</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/sd_edit05.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 5</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/sd_edit07.png" alt="Image 3"
                        style="width: 256px; height: 256px;" \>
                        <figcaption>i_start = 7</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/sd_edit10.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 10</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/sd_edit20.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 20</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.1/camp.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>Campanile</figcaption>
                    </figure>
                </div>

                <h3> Capybara Edits </h3>

                <div class="gallery">
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/1sd_edit01.png" alt="Image 1" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 1 </figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/1sd_edit03.png" alt="Image 2"
                        style="width: 256px; height: 256px;" \>
                        <figcaption>i_start = 3</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/1sd_edit05.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 5</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/1sd_edit07.png" alt="Image 3"
                        style="width: 256px; height: 256px;" \>
                        <figcaption>i_start = 7</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/1sd_edit10.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 10</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/1sd_edit20.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 20</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/web_im_sized.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>Capybara</figcaption>
                    </figure>
                </div>

                <h3> White House Edits  </h3>

                <div class="gallery">
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/2sd_edit01.png" alt="Image 1" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 1 </figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/2sd_edit03.png" alt="Image 2"
                        style="width: 256px; height: 256px;" \>
                        <figcaption>i_start = 3</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/2sd_edit05.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 5</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/2sd_edit07.png" alt="Image 3"
                        style="width: 256px; height: 256px;" \>
                        <figcaption>i_start = 7</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/2_sdedit10.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 10</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/2sd_edit20.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>i_start = 20</figcaption>
                    </figure>
                    <figure class="gallery-item">
                        <img src="../A_results/1.7/white_house.png" alt="Image 3" 
                        style="width: 256px; height: 256px;"\>
                        <figcaption>White House</figcaption>
                    </figure>
                </div>

            <h2> 1.7.1: Editing Hand-drawn and Web-Images </h2>

            <p>
                The procedure above works particularly well if we start with a nonrealistic image 
                (e.g. painting, a sketch, some scribbles) and project it onto the natural image manifold. 
                That is exactly what we do here. 
            </p>

            <h3> Web Image 1: Mario</h3>
            <div class="gallery">
                <figure class="gallery-item">
                    <img src="../A_results/1.7/webim_edit01.png" alt="Image 1" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 1 </figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/webim_edit03.png" alt="Image 2"
                    style="width: 256px; height: 256px;" \>
                    <figcaption>i_start = 3</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/webim_edit05.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 5</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/webim_edit07.png" alt="Image 3"
                    style="width: 256px; height: 256px;" \>
                    <figcaption>i_start = 7</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/webim_edit10.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 10</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/webim_edit20.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 20</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/mario.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>Mario</figcaption>
                </figure>
            </div>

            <h3> Hand-drawn 1: Duck </h3>

            <div class="gallery">
                <figure class="gallery-item">
                    <img src="../A_results/1.7/1draw_sd01.png" alt="Image 1" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 1 </figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/1draw_sd03.png" alt="Image 2"
                    style="width: 256px; height: 256px;" \>
                    <figcaption>i_start = 3</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/1draw_sd05.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 5</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/1draw_sd07.png" alt="Image 3"
                    style="width: 256px; height: 256px;" \>
                    <figcaption>i_start = 7</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/1draw_sd10.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 10</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/1draw_sd20.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 20</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/duck.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>Hand-drawn Duck</figcaption>
                </figure>
            </div>

            <h3> Hand-drawn 2: Ship </h3>

            <div class="gallery">
                <figure class="gallery-item">
                    <img src="../A_results/1.7/drawim_sd01.png" alt="Image 1" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 1 </figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/drawim_sd03.png" alt="Image 2"
                    style="width: 256px; height: 256px;" \>
                    <figcaption>i_start = 3</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/drawim_sd05.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 5</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/drawim_sd07.png" alt="Image 3"
                    style="width: 256px; height: 256px;" \>
                    <figcaption>i_start = 7</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/drawim_sd10.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 10</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/drawim_sd20.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>i_start = 20</figcaption>
                </figure>
                <figure class="gallery-item">
                    <img src="../A_results/1.7/drawim.png" alt="Image 3" 
                    style="width: 256px; height: 256px;"\>
                    <figcaption>Hand-drawn ship</figcaption>
                </figure>
            </div>

            <h2> 1.7.2: Inpainting </h2>

            <p>
                We can use the same procedure to implement inpainting. Given an image \(x\) and 
                a binary mask \( m \), we compute a new image \(x'\) which has the same content as
                \(x\) where \(m\) is 0, but creates content where \(m\) is  1. We run the diffusion 
                denoising loop as normal, but now 
                \[ x_t \gets m \cdot x_t + (1-m)\cdot \textup{forward}(x,t)\]
                is the noisy image. The idea is that with the mask of a certain region, <code>inpaint</code> 
                allows us to edit the image within the context of the background. This can allows us to make 
                interesting changes to images, as seen below: we show the inpainted image, and also 
                the upsampled version of \( 256 \times 256 \) size for clarity. 
            </p>

            <h3> Changing the top of the campanile with square mask</h3>
            <div class="gallery">
                <figure class="gallery-item">
                
                    <img src="../A_results/1.7.2/camp.png" alt="Image 3" 
                    style="width: 128px; height: 128px;"\>
                    <figcaption>Campanile</figcaption>
                </figure>
                <figure>
                    <img src="../A_results/1.7.2/square_mask.png" alt="Image 3" 
                    style="width: 128px; height: 128px;"\>
                    <figcaption>Mask</figcaption>
                </figure>
                <figure>
                    <img src="../A_results/1.7.2/camp_square_mask.png" alt="Image 3" 
                    style="width: 128px; height: 128px;"\>
                    <figcaption>Campanile+Mask</figcaption>
                </figure>
            </div>

            <div class="gallery">
            <figure class="gallery-item">
                <img src="../A_results/1.7.2/camp_square_inp.png" alt="Image 3" 
                style="width: 256px; height: 256px;"\>
                <figcaption>Inpainting</figcaption>
            </figure>
            <figure>
                <img src="../A_results/1.7.2/camp_square_inp_big.png" alt="Image 3" 
                style="width: 256px; height: 256px;"\>
                <figcaption>High Quality Inpainting</figcaption>
            </figure>
        </div>

            <h3> Modernizing the Campanile & Nether Portal with rectangular mask</h3>


            <h3> Circular mask to replace a clock </h3>

            <h3> Rectangular mask to replace billboard </h3>

            <h2> 1.7.3: Text-Conditional Image-to-image Translation</h2>



            
              
            </section>
        </main>
    </div>

</body>

</html>
